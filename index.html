
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infinite Universe Simulation</title>
   <style>
       body {
    margin: 0;
    overflow: hidden;
    background-color: black;
    color: white;
    font-family: Arial, sans-serif;
}

#info {
    position: absolute;
    top: 10px;
    left: 10px;
    z-index: 100;
    background-color: rgba(0, 0, 0, 0.5);
    padding: 10px;
    border-radius: 5px;
}

#info h1 {
    margin: 0;
    font-size: 20px;
}

#info p {
    margin: 5px 0 0;
    font-size: 14px;
}
   </style>
</head>
<body>
    <div id="info">
        <h1>Infinite Universe Simulation</h1>
        <p>Use WASD to move, Space to jump, Mouse to look around.</p>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/cannon-es@0.17.0/dist/cannon-es.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.7.7/dat.gui.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/tween.js@18.6.4/dist/tween.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three/examples/js/loaders/GLTFLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three/examples/js/loaders/OBJLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three/examples/js/loaders/MTLLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three/examples/js/controls/FirstPersonControls.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three/examples/js/postprocessing/EffectComposer.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three/examples/js/postprocessing/RenderPass.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three/examples/js/postprocessing/BloomPass.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three/examples/js/postprocessing/ShaderPass.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three/examples/js/shaders/CopyShader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three/examples/js/shaders/LuminosityHighPassShader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three/examples/js/shaders/FXAAShader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three/examples/js/shaders/TonemapShader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three/examples/js/shaders/UnpackDepthRGBAShader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three/examples/js/shaders/HorizontalBlurShader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three/examples/js/shaders/VerticalBlurShader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three/examples/js/shaders/ConvolutionShader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three/examples/js/shaders/DotScreenShader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three/examples/js/shaders/FilmShader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three/examples/js/shaders/SepiaShader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three/examples/js/shaders/VignetteShader.js"></script>
    <script src="https0//cdn.jsdelivr.net/npm/three/examples/js/shaders/ColorifyShader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three/examples/js/shaders/EdgeShader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three/examples/js/shaders/TechnicolorShader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three/examples/js/shaders/ToonShader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three/examples/js/shaders/TVShader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three/examples/js/shaders/ZoomBlurShader.js"></script>
    <script type="module">
        // script.js
import * as THREE from 'https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js';
import { EffectComposer } from 'https://cdn.jsdelivr.net/npm/three/examples/js/postprocessing/EffectComposer.js';
import { RenderPass } from 'https://cdn.jsdelivr.net/npm/three/examples/js/postprocessing/RenderPass.js';
import { BloomPass } from 'https://cdn.jsdelivr.net/npm/three/examples/js/postprocessing/BloomPass.js';
import { ShaderPass } from 'https://cdn.jsdelivr.net/npm/three/examples/js/postprocessing/ShaderPass.js';
import { CopyShader } from 'https://cdn.jsdelivr.net/npm/three/examples/js/shaders/CopyShader.js';
import { LuminosityHighPassShader } from 'https://cdn.jsdelivr.net/npm/three/examples/js/shaders/LuminosityHighPassShader.js';
import { FXAAShader } from 'https://cdn.jsdelivr.net/npm/three/examples/js/shaders/FXAAShader.js';
import { TonemapShader } from 'https://cdn.jsdelivr.net/npm/three/examples/js/shaders/TonemapShader.js';
import { DotScreenShader } from 'https://cdn.jsdelivr.net/npm/three/examples/js/shaders/DotScreenShader.js';
import { FilmShader } from 'https://cdn.jsdelivr.net/npm/three/examples/js/shaders/FilmShader.js';
import { SepiaShader } from 'https://cdn.jsdelivr.net/npm/three/examples/js/shaders/SepiaShader.js';
import { VignetteShader } from 'https://cdn.jsdelivr.net/npm/three/examples/js/shaders/VignetteShader.js';
import { ColorifyShader } from 'https://cdn.jsdelivr.net/npm/three/examples/js/shaders/ColorifyShader.js';
import { EdgeShader } from 'https://cdn.jsdelivr.net/npm/three/examples/js/shaders/EdgeShader.js';
import { TechnicolorShader } from 'https://cdn.jsdelivr.net/npm/three/examples/js/shaders/TechnicolorShader.js';
import { ToonShader } from 'https://cdn.jsdelivr.net/npm/three/examples/js/shaders/ToonShader.js';
import { TVShader } from 'https://cdn.jsdelivr.net/npm/three/examples/js/shaders/TVShader.js';
import { ZoomBlurShader } from 'https://cdn.jsdelivr.net/npm/three/examples/js/shaders/ZoomBlurShader.js';

let scene, camera, renderer, composer;
let stars, galaxy, nebula;

init();
animate();

function init() {
    // Scene
    scene = new THREE.Scene();

    // Camera
    camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 10000);
    camera.position.z = 1000;

    // Renderer
    renderer = new THREE.WebGLRenderer({ antialias: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);

    // Post-processing
    composer = new EffectComposer(renderer);
    const renderPass = new RenderPass(scene, camera);
    composer.addPass(renderPass);

    const bloomPass = new BloomPass(1.25);
    composer.addPass(bloomPass);

    const fxaaPass = new ShaderPass(FXAAShader);
    const pixelRatio = renderer.getPixelRatio();
    fxaaPass.uniforms['resolution'].value.set(1 / (window.innerWidth * pixelRatio), 1 / (window.innerHeight * pixelRatio));
    composer.addPass(fxaaPass);

    const copyPass = new ShaderPass(CopyShader);
    composer.addPass(copyPass);

    // Stars
    stars = createStars(10000);
    scene.add(stars);

    // Galaxy
    galaxy = createGalaxy();
    scene.add(galaxy);

    // Nebula
    nebula = createNebula();
    scene.add(nebula);

    // Lights
    const ambientLight = new THREE.AmbientLight(0x404040);
    scene.add(ambientLight);

    const pointLight = new THREE.PointLight(0xffffff, 1, 1000);
    pointLight.position.set(500, 500, 500);
    scene.add(pointLight);

    // Controls
    const controls = new THREE.FirstPersonControls(camera, renderer.domElement);
    controls.movementSpeed = 100;
    controls.lookSpeed = 0.05;
    controls.noFly = true;
    controls.lookVertical = true;
    controls.constrainVertical = true;
    controls.verticalMin = 1.0;
    controls.verticalMax = 2.0;
    controls.lon = -150;
    controls.lat = 120;
    controls.update();

    // Window resize
    window.addEventListener('resize', onWindowResize, false);
}

function createStars(count) {
    const geometry = new THREE.BufferGeometry();
    const positions = [];

    for (let i = 0; i < count; i++) {
        const x = (Math.random() - 0.5) * 2000;
        const y = (Math.random() - 0.5) * 2000;
        const z = (Math.random() - 0.5) * 2000;
        positions.push(x, y, z);
    }

    geometry.setAttribute('position', new THREE.Float32BufferAttribute(positions, 3));

    const material = new THREE.PointsMaterial({ color: 0xffffff, size: 2, sizeAttenuation: true });

    return new THREE.Points(geometry, material);
}

function createGalaxy() {
    const geometry = new THREE.SphereGeometry(100, 32, 32);
    const material = new THREE.MeshBasicMaterial({
        map: new THREE.TextureLoader().load('https://threejs.org/examples/textures/galaxy.png'),
        side: THREE.BackSide
    });

    return new THREE.Mesh(geometry, material);
}

function createNebula() {
    const geometry = new THREE.SphereGeometry(500, 64, 64);
    const material = new THREE.MeshBasicMaterial({
        map: new THREE.TextureLoader().load('https://threejs.org/examples/textures/nebula.jpg'),
        transparent: true,
        opacity: 0.5
    });

    return new THREE.Mesh(geometry, material);
}

function onWindowResize() {
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
    composer.setSize(window.innerWidth, window.innerHeight);
}

function animate() {
    requestAnimationFrame(animate);

    // Rotate galaxy and nebula
    galaxy.rotation.y += 0.001;
    nebula.rotation.y -= 0.0005;

    // Update controls
    controls.update(Date.now() - startTime);

    // Render
    composer.render();
}

const startTime = Date.now();
    </script>
</body>
</html>
