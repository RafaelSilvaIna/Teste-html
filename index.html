
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stress CPU</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 50px;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
        }
        #status {
            margin-top: 20px;
            font-size: 18px;
        }
    </style>
</head>
<body>
    <h1>Stress Test CPU</h1>
    <button onclick="startStress()">Start Stress</button>
    <button onclick="stopStress()">Stop Stress</button>
    <div id="status">Status: Idle</div>

    <script>
        let workers = [];
        const numWorkers = navigator.hardwareConcurrency || 4;

        function startStress() {
            document.getElementById('status').innerText = `Status: Stressing CPU with ${numWorkers} threads...`;

            stopStress(); // Stop existing workers, if any
            for (let i = 0; i < numWorkers; i++) {
                const worker = new Worker(URL.createObjectURL(new Blob([`
                    self.onmessage = function() {
                        while (true) {
                            Math.sqrt(Math.random() * 1000000);
                        }
                    };
                `], { type: 'application/javascript' })));
                worker.postMessage('start');
                workers.push(worker);
            }
        }

        function stopStress() {
            document.getElementById('status').innerText = 'Status: Idle';
            workers.forEach(worker => worker.terminate());
            workers = [];
        }
    </script>
</body>
</html>
