<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Solar System</title>
    <style>
        body { margin: 0; }
        canvas { display: block; }
        #info {
            position: absolute;
            top: 10px;
            width: 100%;
            text-align: center;
            color: white;
            font-family: Arial, sans-serif;
            z-index: 10;
        }
    </style>
</head>
<body>
<div id="info">Click and drag to rotate the solar system.</div>
<script src="https://threejs.org/build/three.js"></script>
<script>
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer({ antialias: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);

    const sunGeometry = new THREE.SphereGeometry(1, 32, 32);
    const sunMaterial = new THREE.MeshBasicMaterial({ map: new THREE.TextureLoader().load('https://threejs.org/examples/textures/sun.jpg') });
    const sun = new THREE.Mesh(sunGeometry, sunMaterial);
    scene.add(sun);

    function createPlanet(radius, distanceFromSun, textureUrl, orbitalSpeed) {
        const geometry = new THREE.SphereGeometry(radius, 32, 32);
        const material = new THREE.MeshBasicMaterial({ map: new THREE.TextureLoader().load(textureUrl) });
        const planet = new THREE.Mesh(geometry, material);
        planet.distanceFromSun = distanceFromSun;
        planet.orbitalSpeed = orbitalSpeed;
        scene.add(planet);
        return planet;
    }

    const planetsData = [
        { radius: 0.1, distance: 3, texture: 'https://threejs.org/examples/textures/mercury.jpg', speed: 0.04 },
        { radius: 0.2, distance: 6, texture: 'https://threejs.org/examples/textures/venus.jpg', speed: 0.03 },
        { radius: 0.3, distance: 9, texture: 'https://threejs.org/examples/textures/earth.jpg', speed: 0.02 },
        { radius: 0.25, distance: 12, texture: 'https://threejs.org/examples/textures/mars.jpg', speed: 0.015 },
        { radius: 0.8, distance: 18, texture: 'https://threejs.org/examples/textures/jupiter.jpg', speed: 0.01 },
        { radius: 0.7, distance: 24, texture: 'https://threejs.org/examples/textures/saturn.jpg', speed: 0.008 },
        { radius: 0.6, distance: 30, texture: 'https://threejs.org/examples/textures/uranus.jpg', speed: 0.006 },
        { radius: 0.5, distance: 36, texture: 'https://threejs.org/examples/textures/neptune.jpg', speed: 0.004 }
    ];

    const planets = planetsData.map(data => createPlanet(data.radius, data.distance, data.texture, data.speed));

    camera.position.z = 50;

    const controls = new (function () {
        this.rotationSpeed = 0.02;
        this.autoRotate = true;
    })();

    const gui = new dat.GUI();
    gui.add(controls, 'rotationSpeed', 0, 0.1);
    gui.add(controls, 'autoRotate');

    let mouseX = 0, mouseY = 0;
    let targetX = 0, targetY = 0;
    const windowHalfX = window.innerWidth / 2;
    const windowHalfY = window.innerHeight / 2;

    function onDocumentMouseMove(event) {
        mouseX = event.clientX - windowHalfX;
        mouseY = event.clientY - windowHalfY;
    }

    document.addEventListener('mousemove', onDocumentMouseMove, false);

    function animate() {
        requestAnimationFrame(animate);

        if (controls.autoRotate) {
            sun.rotation.y += controls.rotationSpeed;
            planets.forEach(planet => {
                planet.rotation.y += controls.rotationSpeed;
                planet.position.x = Math.cos(Date.now() * planet.orbitalSpeed / 1000) * planet.distanceFromSun;
                planet.position.z = Math.sin(Date.now() * planet.orbitalSpeed / 1000) * planet.distanceFromSun;
            });
        } else {
            targetX = mouseX * 0.01;
            targetY = mouseY * 0.01;
            sun.rotation.y += (targetX - sun.rotation.y) * 0.05;
            sun.rotation.x += (targetY - sun.rotation.x) * 0.05;
        }

        renderer.render(scene, camera);
    }

    animate();

    window.addEventListener('resize', () => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
    }, false);
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.7.7/dat.gui.min.js"></script>
</body>
</html>
